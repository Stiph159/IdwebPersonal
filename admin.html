<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - GotoTech</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Estilos específicos para admin */
        .admin-container {
            min-height: 100vh;
            background: #f5f5f5;
        }
        
        .admin-login {
            max-width: 400px;
            margin: 100px auto;
            padding: 40px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .admin-login h1 {
            color: #0076ff;
            margin-bottom: 30px;
        }
        
        .admin-header {
            background: #0076ff;
            color: white;
            padding: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .admin-nav {
            background: #333;
            padding: 15px 0;
        }
        
        .admin-nav .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .admin-nav a {
            color: white;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 5px;
            transition: background 0.3s;
        }
        
        .admin-nav a:hover {
            background: #0076ff;
        }
        
        .logout-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .admin-content {
            padding: 40px 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .stat-card i {
            font-size: 2.5rem;
            color: #0076ff;
            margin-bottom: 15px;
        }
        
        .stat-card h3 {
            font-size: 2rem;
            margin: 10px 0;
        }
        
        .admin-section {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .admin-section h2 {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
            color: #333;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #0076ff;
        }
        
        .data-table td {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .data-table tr:hover {
            background: #f8f9fa;
        }
        
        .btn-sm {
            padding: 5px 10px;
            font-size: 0.9rem;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .btn-danger:hover {
            background: #c82333;
        }
        
        .btn-primary-sm {
            background: #0076ff;
            color: white;
        }
        
        .btn-primary-sm:hover {
            background: #0056cc;
        }
        
        .empty-state {
            text-align: center;
            padding: 50px;
            color: #666;
        }
        
        .empty-state i {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #ddd;
        }
    </style>
</head>
<body>
    <div class="admin-container" id="adminContainer">
        <!-- El contenido se carga dinámicamente con JavaScript -->
    </div>

    <script>
        // Credenciales de administración (en producción esto iría en el backend)
        const ADMIN_CREDENTIALS = {
            username: 'admin',
            password: 'gototech2025'
        };
        
        // Datos de ejemplo para mostrar
        const sampleContacts = [
            {
                id: 1,
                fecha: '2025-03-15 10:30',
                nombre: 'Juan Pérez',
                telefono: '999888777',
                servicio: 'Reparación de PC',
                mensaje: 'Mi computadora no enciende'
            },
            {
                id: 2,
                fecha: '2025-03-14 14:20',
                nombre: 'María García',
                telefono: '999777666',
                servicio: 'Instalación de Cámaras',
                mensaje: 'Cotización para 4 cámaras'
            },
            {
                id: 3,
                fecha: '2025-03-13 09:15',
                nombre: 'Carlos López',
                telefono: '999666555',
                servicio: 'Accesorios',
                mensaje: 'Busco teclado gaming'
            }
        ];
        
        const sampleProducts = [
            {
                id: 1,
                nombre: 'Teclado Mecánico RGB',
                categoria: 'accesorios',
                precio: 150.00,
                stock: 10,
                vendidos: 5
            },
            {
                id: 2,
                nombre: 'Mouse Gaming Inalámbrico',
                categoria: 'accesorios',
                precio: 80.00,
                stock: 15,
                vendidos: 8
            },
            {
                id: 3,
                nombre: 'Audífonos Gaming 7.1',
                categoria: 'accesorios',
                precio: 200.00,
                stock: 8,
                vendidos: 3
            }
        ];
        
        // Verificar si hay sesión activa
        function checkAdminSession() {
            return localStorage.getItem('gototech_admin_logged') === 'true';
        }
        
        // Mostrar pantalla de login
        function showLoginScreen() {
            const container = document.getElementById('adminContainer');
            container.innerHTML = `
                <div class="admin-login">
                    <h1><i class="fas fa-lock"></i> Panel de Administración</h1>
                    <p style="color: #666; margin-bottom: 30px;">Ingresa tus credenciales para continuar</p>
                    
                    <form id="loginForm">
                        <div class="form-group">
                            <input type="text" id="username" class="form-control" placeholder="Usuario" value="admin" required>
                        </div>
                        
                        <div class="form-group">
                            <input type="password" id="password" class="form-control" placeholder="Contraseña" value="gototech2025" required>
                        </div>
                        
                        <button type="submit" class="btn-primary" style="width: 100%;">
                            <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
                        </button>
                    </form>
                    
                    <div style="margin-top: 25px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                        <p style="margin: 0; font-size: 0.9rem; color: #666;">
                            <strong>Credenciales de prueba:</strong><br>
                            Usuario: admin<br>
                            Contraseña: gototech2025
                        </p>
                    </div>
                </div>
            `;
            
            // Configurar el formulario de login
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                const username = document.getElementById('username').value;
                const password = document.getElementById('password').value;
                
                if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                    localStorage.setItem('gototech_admin_logged', 'true');
                    showAdminPanel();
                } else {
                    alert('Credenciales incorrectas. Intenta nuevamente.');
                }
            });
        }
        
        // Mostrar panel de administración
        function showAdminPanel() {
            const container = document.getElementById('adminContainer');
            container.innerHTML = `
                <!-- Header -->
                <header class="admin-header">
                    <div class="container">
                        <h1 style="margin: 0;"><i class="fas fa-cogs"></i> GotoTech - Panel de Control</h1>
                    </div>
                </header>
                
                <!-- Navegación -->
                <nav class="admin-nav">
                    <div class="container">
                        <div>
                            <a href="admin.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                            <a href="#contactos"><i class="fas fa-users"></i> Contactos</a>
                            <a href="#productos"><i class="fas fa-box"></i> Productos</a>
                            <a href="#ventas"><i class="fas fa-chart-line"></i> Ventas</a>
                        </div>
                        <button class="logout-btn" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i> Cerrar Sesión
                        </button>
                    </div>
                </nav>
                
                <!-- Contenido principal -->
                <main class="admin-content">
                    <div class="container">
                        <!-- Estadísticas -->
                        <div class="stats-grid">
                            <div class="stat-card">
                                <i class="fas fa-envelope"></i>
                                <h3>${sampleContacts.length}</h3>
                                <p>Contactos Recibidos</p>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-box"></i>
                                <h3>${sampleProducts.length}</h3>
                                <p>Productos Activos</p>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-shopping-cart"></i>
                                <h3>16</h3>
                                <p>Ventas del Mes</p>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-dollar-sign"></i>
                                <h3>S/. 2,540</h3>
                                <p>Ingresos Totales</p>
                            </div>
                        </div>
                        
                        <!-- Sección de Contactos -->
                        <div class="admin-section" id="contactos">
                            <h2><i class="fas fa-users"></i> Contactos Recibidos</h2>
                            ${sampleContacts.length > 0 ? `
                                <div class="table-responsive">
                                    <table class="data-table">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Fecha</th>
                                                <th>Nombre</th>
                                                <th>Teléfono</th>
                                                <th>Servicio</th>
                                                <th>Mensaje</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${sampleContacts.map(contact => `
                                                <tr>
                                                    <td>${contact.id}</td>
                                                    <td>${contact.fecha}</td>
                                                    <td>${contact.nombre}</td>
                                                    <td>${contact.telefono}</td>
                                                    <td>${contact.servicio}</td>
                                                    <td style="max-width: 250px;">${contact.mensaje}</td>
                                                    <td>
                                                        <button class="btn-sm btn-danger" onclick="deleteContact(${contact.id})">
                                                            <i class="fas fa-trash"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                            `).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            ` : `
                                <div class="empty-state">
                                    <i class="fas fa-inbox"></i>
                                    <h3>No hay contactos recibidos</h3>
                                    <p>Los contactos aparecerán aquí cuando los clientes usen el formulario.</p>
                                </div>
                            `}
                        </div>
                        
                        <!-- Sección de Productos -->
                        <div class="admin-section" id="productos">
                            <h2><i class="fas fa-box"></i> Gestión de Productos</h2>
                            <div style="margin-bottom: 20px;">
                                <button class="btn-primary" onclick="addProduct()">
                                    <i class="fas fa-plus"></i> Agregar Producto
                                </button>
                            </div>
                            
                            ${sampleProducts.length > 0 ? `
                                <div class="table-responsive">
                                    <table class="data-table">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Nombre</th>
                                                <th>Categoría</th>
                                                <th>Precio</th>
                                                <th>Stock</th>
                                                <th>Vendidos</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            ${sampleProducts.map(product => `
                                                <tr>
                                                    <td>${product.id}</td>
                                                    <td>${product.nombre}</td>
                                                    <td>${product.categoria}</td>
                                                    <td>S/. ${product.precio.toFixed(2)}</td>
                                                    <td>${product.stock}</td>
                                                    <td>${product.vendidos}</td>
                                                    <td>
                                                        <button class="btn-sm btn-primary-sm" style="margin-right: 5px;" onclick="editProduct(${product.id})">
                                                            <i class="fas fa-edit"></i>
                                                        </button>
                                                        <button class="btn-sm btn-danger" onclick="deleteProduct(${product.id})">
                                                            <i class="fas fa-trash"></i>
                                                        </button>
                                                    </td>
                                                </tr>
                                            `).join('')}
                                        </tbody>
                                    </table>
                                </div>
                            ` : `
                                <div class="empty-state">
                                    <i class="fas fa-box-open"></i>
                                    <h3>No hay productos registrados</h3>
                                    <p>Agrega productos para mostrar en la tienda.</p>
                                </div>
                            `}
                        </div>
                        
                        <!-- Sección de Ventas -->
                        <div class="admin-section" id="ventas">
                            <h2><i class="fas fa-chart-line"></i> Ventas Recientes</h2>
                            <div class="empty-state">
                                <i class="fas fa-chart-bar"></i>
                                <h3>Módulo de Ventas</h3>
                                <p>Esta funcionalidad estará disponible en la próxima actualización.</p>
                                <p><small>Podrás ver historial de ventas, generar reportes y más.</small></p>
                            </div>
                        </div>
                    </div>
                </main>
                
                <!-- Footer -->
                <footer class="footer" style="margin-top: 50px;">
                    <div class="container">
                        <div class="footer-bottom">
                            <p>© 2025 GotoTech — Panel de Administración | 
                                <span id="lastUpdate">Último acceso: ${new Date().toLocaleString()}</span>
                            </p>
                        </div>
                    </div>
                </footer>
            `;
            
            // Actualizar hora periódicamente
            setInterval(() => {
                const lastUpdate = document.getElementById('lastUpdate');
                if (lastUpdate) {
                    lastUpdate.textContent = `Último acceso: ${new Date().toLocaleString()}`;
                }
            }, 60000);
        }
        
        // Funciones de administración
        function deleteContact(id) {
            if (confirm('¿Estás seguro de eliminar este contacto?')) {
                alert(`Contacto #${id} eliminado (simulación)`);
                // En producción aquí harías una petición DELETE al backend
            }
        }
        
        function addProduct() {
            alert('Funcionalidad para agregar producto (en desarrollo)\n\nEn una versión completa, aquí podrías:\n1. Subir imagen del producto\n2. Definir precio y stock\n3. Agregar descripción\n4. Categorizar el producto');
        }
        
        function editProduct(id) {
            alert(`Editando producto #${id} (simulación)`);
        }
        
        function deleteProduct(id) {
            if (confirm('¿Estás seguro de eliminar este producto?')) {
                alert(`Producto #${id} eliminado (simulación)`);
                // En producción aquí harías una petición DELETE al backend
            }
        }
        
        function logout() {
            localStorage.removeItem('gototech_admin_logged');
            showLoginScreen();
        }
        
        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            if (checkAdminSession()) {
                showAdminPanel();
            } else {
                showLoginScreen();
            }
        });
    </script>
</body>
</html>