<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - GotoTech</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .admin-header {
            background: #0076ff;
            color: white;
            padding: 20px 0;
            margin-bottom: 40px;
        }
        
        .admin-nav {
            background: #333;
            padding: 15px 0;
            margin-bottom: 30px;
        }
        
        .admin-nav a {
            color: white;
            text-decoration: none;
            padding: 10px 20px;
            margin: 0 10px;
            border-radius: 5px;
            transition: background 0.3s;
        }
        
        .admin-nav a:hover {
            background: #0076ff;
        }
        
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .stat-card i {
            font-size: 2.5rem;
            color: #0076ff;
            margin-bottom: 15px;
        }
        
        .stat-card h3 {
            font-size: 2rem;
            margin: 10px 0;
        }
        
        .stat-card p {
            color: #666;
        }
        
        .admin-section {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .admin-section h2 {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .login-container {
            max-width: 400px;
            margin: 100px auto;
            padding: 40px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .login-container h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #0076ff;
        }
        
        .logout-btn {
            background: #dc3545;
            color: white;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-left: auto;
        }
    </style>
</head>
<body>
    <!-- Contenido principal -->
    <div id="admin-content">
        <!-- Esto se llenará dinámicamente con JavaScript -->
    </div>

    <!-- Formulario de login (oculto inicialmente) -->
    <div id="login-form" class="login-container" style="display: none;">
        <h1><i class="fas fa-lock"></i> Acceso Administrativo</h1>
        <form id="loginForm">
            <div class="form-group">
                <label for="adminUser">Usuario</label>
                <input type="text" id="adminUser" class="form-control" value="admin">
            </div>
            <div class="form-group">
                <label for="adminPass">Contraseña</label>
                <input type="password" id="adminPass" class="form-control" value="gototech2025">
            </div>
            <button type="submit" class="btn-primary">
                <i class="fas fa-sign-in-alt"></i> Iniciar Sesión
            </button>
        </form>
        <p style="text-align: center; margin-top: 20px; color: #666;">
            <small>Usuario: admin | Contraseña: gototech2025</small>
        </p>
    </div>

    <!-- JS -->
    <script src="script.js"></script>
    <script>
        // Verificar si el usuario está autenticado
        const isAdmin = localStorage.getItem('gototechAdmin') === 'true';
        
        // Datos de ejemplo
        const contactosEjemplo = [
            {id: 1, nombre: 'Juan Pérez', email: 'juan@email.com', telefono: '999888777', mensaje: 'Consulta sobre reparación', fecha: '2025-03-15'},
            {id: 2, nombre: 'María García', email: 'maria@email.com', telefono: '999777666', mensaje: 'Cotización para cámaras', fecha: '2025-03-14'},
            {id: 3, nombre: 'Carlos López', email: 'carlos@email.com', telefono: '', mensaje: 'Necesito accesorios para mi PC', fecha: '2025-03-13'}
        ];
        
        const productosEjemplo = [
            {id: 1, nombre: 'Teclado Mecánico RGB', descripcion: 'Teclado gaming', precio: 150.00, categoria: 'accesorios', stock: 10},
            {id: 2, nombre: 'Mouse Inalámbrico', descripcion: 'Mouse Bluetooth', precio: 80.00, categoria: 'accesorios', stock: 15},
            {id: 3, nombre: 'Cámara de Seguridad', descripcion: 'Cámara IP 4K', precio: 350.00, categoria: 'camaras', stock: 5}
        ];

        // Función para mostrar el panel de administración
        function mostrarPanelAdmin() {
            const adminContent = document.getElementById('admin-content');
            
            adminContent.innerHTML = `
                <!-- HEADER ADMIN -->
                <header class="admin-header">
                    <div class="container">
                        <h1><i class="fas fa-cogs"></i> Panel de Administración</h1>
                        <p>GotoTech - Sistema de gestión</p>
                    </div>
                </header>
                
                <!-- NAVEGACIÓN -->
                <div class="admin-nav">
                    <div class="container" style="display: flex; align-items: center;">
                        <a href="admin.html"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
                        <a href="#contactos"><i class="fas fa-envelope"></i> Contactos</a>
                        <a href="#productos"><i class="fas fa-box"></i> Productos</a>
                        <button class="logout-btn" onclick="logout()">
                            <i class="fas fa-sign-out-alt"></i> Salir
                        </button>
                    </div>
                </div>
                
                <!-- CONTENIDO PRINCIPAL -->
                <main class="container">
                    <!-- ESTADÍSTICAS -->
                    <div class="stats-cards">
                        <div class="stat-card">
                            <i class="fas fa-envelope"></i>
                            <h3 id="totalContactos">${contactosEjemplo.length}</h3>
                            <p>Mensajes Recibidos</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-box"></i>
                            <h3 id="totalProductos">${productosEjemplo.length}</h3>
                            <p>Productos Activos</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-shopping-cart"></i>
                            <h3 id="totalVentas">12</h3>
                            <p>Ventas este Mes</p>
                        </div>
                        <div class="stat-card">
                            <i class="fas fa-users"></i>
                            <h3 id="totalClientes">24</h3>
                            <p>Clientes Satisfechos</p>
                        </div>
                    </div>
                    
                    <!-- SECCIÓN CONTACTOS -->
                    <div class="admin-section" id="contactos">
                        <h2><i class="fas fa-envelope"></i> Mensajes de Contacto</h2>
                        <div class="table-responsive">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Nombre</th>
                                        <th>Email</th>
                                        <th>Teléfono</th>
                                        <th>Mensaje</th>
                                        <th>Fecha</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="contactosTable">
                                    ${contactosEjemplo.map(c => `
                                        <tr>
                                            <td>${c.id}</td>
                                            <td>${c.nombre}</td>
                                            <td>${c.email}</td>
                                            <td>${c.telefono || '-'}</td>
                                            <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis;">${c.mensaje}</td>
                                            <td>${c.fecha}</td>
                                            <td>
                                                <button class="btn-danger" onclick="eliminarContacto(${c.id})">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- SECCIÓN PRODUCTOS -->
                    <div class="admin-section" id="productos">
                        <h2><i class="fas fa-box"></i> Gestión de Productos</h2>
                        <div style="margin-bottom: 20px;">
                            <button class="btn-primary" onclick="nuevoProducto()">
                                <i class="fas fa-plus"></i> Nuevo Producto
                            </button>
                        </div>
                        <div class="table-responsive">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Nombre</th>
                                        <th>Descripción</th>
                                        <th>Precio</th>
                                        <th>Categoría</th>
                                        <th>Stock</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="productosTable">
                                    ${productosEjemplo.map(p => `
                                        <tr>
                                            <td>${p.id}</td>
                                            <td>${p.nombre}</td>
                                            <td>${p.descripcion}</td>
                                            <td>S/. ${p.precio.toFixed(2)}</td>
                                            <td>${p.categoria}</td>
                                            <td>${p.stock}</td>
                                            <td>
                                                <button class="btn-secondary" style="padding: 5px 10px; margin-right: 5px;">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="btn-danger" onclick="eliminarProducto(${p.id})">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </td>
                                        </tr>
                                    `).join('')}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </main>
                
                <!-- FOOTER -->
                <footer class="footer">
                    <div class="container">
                        <div class="footer-bottom">
                            <p>© 2025 GotoTech — Panel de Administración | 
                                <span id="lastUpdate">Última actualización: ${new Date().toLocaleTimeString()}</span>
                            </p>
                        </div>
                    </div>
                </footer>
            `;
            
            // Actualizar la hora periódicamente
            setInterval(() => {
                const lastUpdate = document.getElementById('lastUpdate');
                if (lastUpdate) {
                    lastUpdate.textContent = `Última actualización: ${new Date().toLocaleTimeString()}`;
                }
            }, 30000);
        }

        // Función para mostrar el formulario de login
        function mostrarLogin() {
            document.getElementById('login-form').style.display = 'block';
            document.getElementById('admin-content').style.display = 'none';
        }

        // Función para cerrar sesión
        function logout() {
            localStorage.removeItem('gototechAdmin');
            location.reload();
        }

        // Función para eliminar contacto
        function eliminarContacto(id) {
            if (confirm('¿Eliminar este contacto?')) {
                alert(`Contacto ${id} eliminado (simulación)`);
                // En producción, aquí harías una petición a la API
            }
        }

        // Función para eliminar producto
        function eliminarProducto(id) {
            if (confirm('¿Eliminar este producto?')) {
                alert(`Producto ${id} eliminado (simulación)`);
                // En producción, aquí harías una petición a la API
            }
        }

        // Función para nuevo producto
        function nuevoProducto() {
            alert('Funcionalidad para agregar nuevo producto (en desarrollo)');
        }

        // Configurar formulario de login
        function configurarLogin() {
            const loginForm = document.getElementById('loginForm');
            if (loginForm) {
                loginForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const user = document.getElementById('adminUser').value;
                    const pass = document.getElementById('adminPass').value;
                    
                    // Credenciales básicas
                    if (user === 'admin' && pass === 'gototech2025') {
                        localStorage.setItem('gototechAdmin', 'true');
                        location.reload();
                    } else {
                        alert('Credenciales incorrectas');
                    }
                });
            }
        }

        // Inicializar la página
        document.addEventListener('DOMContentLoaded', function() {
            if (isAdmin) {
                mostrarPanelAdmin();
            } else {
                mostrarLogin();
                configurarLogin();
            }
        });
    </script>
</body>
</html>